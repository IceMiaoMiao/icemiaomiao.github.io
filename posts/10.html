<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="referrer" content="no-referrer">

  
  <title>DOTS | Yang&#39;s Blog</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="DOTS æ˜¯ä»€ä¹ˆ">
<meta property="og:type" content="article">
<meta property="og:title" content="DOTS">
<meta property="og:url" content="https://icemiaomiao.github.io/posts/10.html">
<meta property="og:site_name" content="Yang&#39;s Blog">
<meta property="og:description" content="DOTS æ˜¯ä»€ä¹ˆ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/d1742233fd190d753f3011c1a8e02f6a17c1eba7.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/649ac20ec5a1c8e9a44e3e6b68d4fb9fc28e046c.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/f079f4dd98b0a28f1b194d6b5b0072993dd17419.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/003a1a1723ce4ae94f6355bb4517b01e262fd233.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/f6796682b69bce17e8b071dda58b461f3b50831f.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/b632b49045cbf0b69ee1306e3c73cb8cf6f3d346.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/6e8be976af9bec6d6af82b4a115315aa47b361c2.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/b6f13a76d179e80e0e3ed1ea73276054ac66c2f3.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/e34fc5d2853877327a1900644a1bc1e2c1b6cf3c.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/d3f3312f04d771cf08909c9c45806c16c418bda0.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/b602880daec99252eee11d4fa0d6e18bbd7fc402.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/199d2f6cff65bdd2029344334a9b70693121bfbf.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/8dded31637b1fed5dff2226f395967853d085490.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/5b41bc47a8aacb32be844e71139e8539578be24c.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/f4fdfa47e0ded9c7d63c07c93924f4dceec0458f.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/c04e1d6ed874300039c3e9e4c67850200e5b360c.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/1aa42826b5ff135600612096a6f6334d35bc1b8b.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/f50944b66f8d3b3614acf4551911a6b91bd2b1a3.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/248312d27336e71b776a8e8a5ec74d93103212b2.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/be530dc029416af978f929cd9f454885f5fbfa3a.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/f6c68dd22600427010d9e542be0499ed3add4a87.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/23761b2b9668bdb2971d3e201288c504811557b7.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/6308d4683d1aa590b95c0d0ca0af803bff23ae49.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/446b45c8110d382cf7e9518b835bf2b85d649d7b.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/d5b26ca1b6368e68933fbd5061a0bbf93813f4c1.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/01c32fc23116e9623d12ff76d3972ef68d58ef53.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/47c5bc19841f90aef8c7d36a71d8646dd91103aa.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/d822361e69d3643a156873051b2d03a39d8b4c9e.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/7aaa75b6bf6a53dcff62f54a18815d2991980741.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/1dc822a74eb11558eb54466b6c2b5818b4355d48.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/4573cea0266516bdf3af6ff24c56293be28e0d2d.png">
<meta property="og:image" content="https://article.biliimg.com/bfs/article/984be8b0bb3e1c874349c379bb58f2aa630f16d9.png">
<meta property="article:published_time" content="2025-01-04T16:23:38.000Z">
<meta property="article:modified_time" content="2023-03-08T12:21:58.000Z">
<meta property="article:author" content="Guo Yangyang">
<meta property="article:tag" content="Unity">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://article.biliimg.com/bfs/article/d1742233fd190d753f3011c1a8e02f6a17c1eba7.png">
  
    <link rel="alternative" href="/atom.xml" title="Yang&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">Guo Yangyang</a></h1>
		</hgroup>

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Lists</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/IceMiaoMiao?tab=repositories" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="https://space.bilibili.com/487294924" title="weibo">weibo</a>
					        
						</div>
						<!-- music -->
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Blender/" style="font-size: 13.33px;">Blender</a> <a href="/tags/Explore/" style="font-size: 13.33px;">Explore</a> <a href="/tags/Grow/" style="font-size: 10px;">Grow</a> <a href="/tags/Introduction/" style="font-size: 10px;">Introduction</a> <a href="/tags/MetaHuman/" style="font-size: 10px;">MetaHuman</a> <a href="/tags/Skills/" style="font-size: 16.67px;">Skills</a> <a href="/tags/Test/" style="font-size: 10px;">Test</a> <a href="/tags/Travel/" style="font-size: 10px;">Travel</a> <a href="/tags/Unity/" style="font-size: 20px;">Unity</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">I&#39;m a developer in Beijing, China. You could contact me by email:guo23188@qq.com or iceingmiao@gmail.com</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Lists</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/IceMiaoMiao?tab=repositories" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="https://space.bilibili.com/487294924" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Unity/DOTS" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/posts/10.html" class="article-date">
  	<time datetime="2025-01-04T16:23:38.000Z" itemprop="datePublished">2025-01-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      DOTS
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li></ul>
	</div>

        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DOTS-æ˜¯ä»€ä¹ˆ"><a href="#DOTS-æ˜¯ä»€ä¹ˆ" class="headerlink" title="DOTS æ˜¯ä»€ä¹ˆ"></a>DOTS æ˜¯ä»€ä¹ˆ</h1><span id="more"></span>
<p>Data-Oriented Technology Stack (é¢å‘æ•°æ®çš„æŠ€æœ¯æ ˆ)<br>æœ‰äº”ä¸ªæ ¸å¿ƒåŒ…</p>
<ol>
<li>The C# job system (å¿«é€Ÿï¼Œå®‰å…¨ï¼Œä½¿ç”¨ç®€å•åœ°ç¼–å†™å¤šçº¿ç¨‹ä»£ç )</li>
<li>The burst smopiler (ä¼˜åŒ– c# ä»£ç çš„ç¼–è¯‘å™¨, å¯ä»¥ç¼–è¯‘ç”Ÿæˆæ¯” Monoï¼ŒIL to Cpp æ›´å¿«çš„ä»£ç  )</li>
<li>Unity Mathematicsï¼ˆåœ¨ job system ä¸­ä½¿ç”¨çš„æ•°å­¦åº“ï¼‰</li>
<li>Unity Collectionsï¼ˆæä¾›äº†å¸¸è§çš„é›†åˆç±»å‹ï¼Œå¦‚åˆ—è¡¨ï¼Œå“ˆå¸Œæ˜ å°„è¡¨ç­‰ï¼‰</li>
<li>Entities (Entity-Component System)ï¼ˆecs æ˜¯ gameobject æ›´é«˜æ•ˆæ›´è½»é‡çš„æ›¿ä»£å“ï¼‰<br>é¢å¤–åŒ…ï¼š</li>
</ol>
<ul>
<li>Entities. Graphics (Hybird Renderer) ï¼ˆæ˜¯ä¸€å¥—æ”¯æŒ URP ä¸ HDRP çš„ entity æ¸²æŸ“è§£å†³æ–¹æ¡ˆï¼Œä¸ºäº†ä¼˜åŒ– cpu çš„æ€§èƒ½è®¾è®¡ï¼‰</li>
<li>Netcode ï¼ˆå»ºç«‹åœ¨äº”ä¸ªæ ¸å¿ƒåŒ…ä¹‹ä¸Šçš„ç½‘ç»œè§£å†³æ–¹æ¡ˆï¼Œæä¾›ç½‘ç»œå¤šäººè¿çº¿çš„æœåŠ¡å™¨åŠŸèƒ½ä¸å®¢æˆ·ç«¯é¢„æµ‹ç­‰åŠŸèƒ½ï¼‰</li>
<li>Physicsï¼ˆå»ºç«‹åœ¨äº”ä¸ªæ ¸å¿ƒåŒ…ä¹‹ä¸Šçš„ç‰©ç†è§£å†³æ–¹æ¡ˆï¼Œï¼‰</li>
<li>Animation (WIP)</li>
<li>Auido (WIP)<br><img src="https://article.biliimg.com/bfs/article/d1742233fd190d753f3011c1a8e02f6a17c1eba7.png"></li>
</ul>
<h2 id="é¢å‘æ•°æ®è®¾è®¡"><a href="#é¢å‘æ•°æ®è®¾è®¡" class="headerlink" title="é¢å‘æ•°æ®è®¾è®¡"></a>é¢å‘æ•°æ®è®¾è®¡</h2><p><img src="https://article.biliimg.com/bfs/article/649ac20ec5a1c8e9a44e3e6b68d4fb9fc28e046c.png"><br>OPP æ˜“äºç†è§£ï¼Œä½†ä¸é«˜æ•ˆ</p>
<p><img src="https://article.biliimg.com/bfs/article/f079f4dd98b0a28f1b194d6b5b0072993dd17419.png"><br>OOD-&gt;DOD<br>é¢å‘å¯¹è±¡è®¾è®¡-&gt;é¢å‘æ•°æ®è®¾è®¡<br>DOD æœ¬è´¨ï¼šé¢å‘å†…å­˜/ç¼“å­˜å‹å¥½çš„è®¾è®¡<br><img src="https://article.biliimg.com/bfs/article/003a1a1723ce4ae94f6355bb4517b01e262fd233.png"></p>
<p><img src="https://article.biliimg.com/bfs/article/f6796682b69bce17e8b071dda58b461f3b50831f.png"></p>
<p><img src="https://article.biliimg.com/bfs/article/b632b49045cbf0b69ee1306e3c73cb8cf6f3d346.png"><br>DOTS é¢å‘æ•°æ®è®¾è®¡åŸåˆ™</p>
<ol>
<li>å…ˆè®¾è®¡ã€‚åç¼–ç </li>
<li>ä¸ºé«˜æ•ˆä½¿ç”¨å†…å­˜å’Œç¼“å­˜è®¾è®¡</li>
<li>ä¸º Blittable Data è®¾è®¡</li>
<li>ä¸ºæ™®é€šæƒ…å†µè®¾è®¡</li>
<li>æ‹¥æŠ±è¿­ä»£<br>L1, L2, L3 ç¼“å­˜çš„æ ‘å½¢ç»“æ„è®¾è®¡<br><img src="https://article.biliimg.com/bfs/article/6e8be976af9bec6d6af82b4a115315aa47b361c2.png"></li>
</ol>
<h2 id="ECS-æ¶æ„"><a href="#ECS-æ¶æ„" class="headerlink" title="ECS æ¶æ„"></a>ECS æ¶æ„</h2><p>Entity-Componment-System (å®ä½“ç»„ä»¶ç³»ç»Ÿæ¶æ„)</p>
<ul>
<li>éµå¾ªç»„åˆç”±äºç»§æ‰¿çš„åŸåˆ™</li>
<li>é¢å‘æ•°æ®è®¾è®¡</li>
<li>å¼±è€¦åˆ</li>
<li>å¸¸ç”¨äºæ¸¸æˆå¼€å‘</li>
</ul>
<h3 id="æ¸¸æˆå¼•æ“æ¶æ„æ¼”å˜"><a href="#æ¸¸æˆå¼•æ“æ¶æ„æ¼”å˜" class="headerlink" title="æ¸¸æˆå¼•æ“æ¶æ„æ¼”å˜"></a>æ¸¸æˆå¼•æ“æ¶æ„æ¼”å˜</h3><p>åŸºäºå¯¹è±¡ç»§æ‰¿çš„æ¶æ„<br><img src="https://article.biliimg.com/bfs/article/b6f13a76d179e80e0e3ed1ea73276054ac66c2f3.png"><br>åŸºäº Actor-component å¯¹è±¡ç»„åˆæ¶æ„<br><img src="https://article.biliimg.com/bfs/article/e34fc5d2853877327a1900644a1bc1e2c1b6cf3c.png"><br>åŸºäº ECS çš„é¢å‘æ•°æ®çš„è®¾è®¡æ¶æ„<br><img src="https://article.biliimg.com/bfs/article/d3f3312f04d771cf08909c9c45806c16c418bda0.png"><br>ECS æ¶æ„æœ¬è´¨æ˜¯ç»„åˆæ•°æ®æ•°ç»„è€Œéå¯¹è±¡æ•°ç»„ï¼ŒEntity å¹¶éå¯¹è±¡ï¼Œä¹Ÿä¸æ˜¯å®¹å™¨ï¼Œè€Œæ˜¯å¯¹è±¡ç´¢å¼•çš„ ID æˆ–æ ‡è¯†ç¬¦ã€‚Component æ‰æ˜¯å®¹å™¨ï¼Œä½†ä¸æ˜¯å¯¹è±¡å®¹å™¨ï¼Œè€Œä»…ä»…æ˜¯ä¸€ä¸ªæ•°æ®å®¹å™¨ï¼Œä¸åŒ…å«ä»»ä½•é€»è¾‘ã€‚System æ‰æ˜¯çœŸæ­£è´Ÿè´£å¯¹æ•°æ®æ“ä½œçš„éƒ¨åˆ†ï¼ŒSystem æ‰æ˜¯å¯¹ç‰¹å®šç»„ä»¶ç‰¹å®šå®ä½“æ‰§è¡Œçš„æ“ä½œã€‚</p>
<h3 id="DOTS-ä¸‹å…³äº-ECS-çš„ä¸“æœ‰åè¯"><a href="#DOTS-ä¸‹å…³äº-ECS-çš„ä¸“æœ‰åè¯" class="headerlink" title="DOTS ä¸‹å…³äº ECS çš„ä¸“æœ‰åè¯"></a>DOTS ä¸‹å…³äº ECS çš„ä¸“æœ‰åè¯</h3><p><img src="https://article.biliimg.com/bfs/article/b602880daec99252eee11d4fa0d6e18bbd7fc402.png"><br>Archetypes: ä¾ç„¶ä¸æ˜¯å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œè¡¨ç¤ºæ‰€æœ‰å…·æœ‰ç›¸åŒ component ç»„åˆçš„å®ä½“ç±»å‹ã€‚<br><img src="https://article.biliimg.com/bfs/article/199d2f6cff65bdd2029344334a9b70693121bfbf.png"></p>
<p><img src="https://article.biliimg.com/bfs/article/8dded31637b1fed5dff2226f395967853d085490.png"><br>Worldï¼ŒEntityManager<br>World æ˜¯ä¸€ç³»åˆ— Entity çš„ç»„åˆï¼Œæ¯ä¸€ä¸ª Entity åœ¨ä¸€ä¸ª world ä¸­æ˜¯å”¯ä¸€çš„ã€‚ç»Ÿä¸€å—åˆ° world ä¸­ EntityManager ç»“æ„çš„ç®¡ç†ã€‚Entity è´Ÿè´£åˆ›å»ºï¼Œé”€æ¯ï¼Œä¿®æ”¹ Entity ä¸­çš„å®ä½“ã€‚<br>Structural Change<br><img src="https://article.biliimg.com/bfs/article/5b41bc47a8aacb32be844e71139e8539578be24c.png"><br>åœ¨ Query æŸ¥è¯¢æ—¶ï¼Œä¼šé€šè¿‡ Query åˆ‡ç‰‡çš„æ–¹å¼æ¥ç»„ç»‡æŸ¥è¯¢ã€‚å‡­æ„Ÿè§‰ä¸Šæ˜¯è¿ç»­çš„ï¼Œä½†ä¸ä¼šé€ æˆå†…å­˜ä¸Šçš„ç§»åŠ¨ã€‚<br><img src="https://article.biliimg.com/bfs/article/f4fdfa47e0ded9c7d63c07c93924f4dceec0458f.png"></p>
<p>DOTS é¢å‘æ•°æ®çš„è®¾è®¡éƒ¨åˆ†ï¼Œå°±æ˜¯åœ¨è®¾è®¡é˜Ÿåˆ—çš„ç»“æ„ï¼Œecs å°±æ˜¯ç»„ç»‡é˜Ÿåˆ—çš„è§„åˆ™ï¼Œjob system å°±æ˜¯åšé˜Ÿåˆ—çš„è°ƒåº¦ã€‚<br>ç¼“å­˜åˆ†å±‚çš„åŸå› æœ¬è´¨æ˜¯ç‰©ç†è·ç¦»å†³å®šçš„ã€‚</p>
<h2 id="å®‰è£…ç›¸å…³åŒ…"><a href="#å®‰è£…ç›¸å…³åŒ…" class="headerlink" title="å®‰è£…ç›¸å…³åŒ…"></a>å®‰è£…ç›¸å…³åŒ…</h2><ol>
<li>æ·»åŠ ï¼š com. unity. entities<br>å®‰è£…å®Œæˆåï¼Œç¼–è¯‘å™¨ä¼šå¤š Entities å’Œ Jobs çš„æ ‡ç­¾ã€‚<br><img src="https://article.biliimg.com/bfs/article/c04e1d6ed874300039c3e9e4c67850200e5b360c.png"><br>Entities ç›¸å…³çš„èœå•<br><img src="https://article.biliimg.com/bfs/article/1aa42826b5ff135600612096a6f6334d35bc1b8b.png"></li>
</ol>
<h2 id="Blittable-Types-åœ¨æ‰˜ç®¡ä»£ç å’Œéæ‰˜ç®¡ä»£ç çš„å†…å­˜ä¸­å…·æœ‰ç›¸åŒçš„è¡¨ç°å½¢å¼ã€‚Job-çš„è°ƒåº¦æ–¹å¼æœ‰ä¸‰ç§ï¼šRun-gt-ä¸»çº¿ç¨‹ç«‹å³é¡ºåºæ‰§è¡ŒSchedule-gt-å•ä¸ªå·¥ä½œçº¿ç¨‹æˆ–ä¸»çº¿ç¨‹ï¼Œæ¯ä¸ª-Job-é¡ºåºæ‰§è¡ŒScheduleParallel-gt-åœ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªæ•°æ®æ—¶å¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚-è®¾è®¡ä¸ç»„ç»‡æ•°æ®æ˜¯æ¶‰åŠ-Archetype-ä¸-component-dataä¿®æ”¹ä¸æ›´æ–°æ•°æ®æ˜¯æ§åˆ¶æ•°æ®è¯»å†™ï¼Œè®¿é—®æƒé™ä¸è®¿é—®é¢‘ç‡ã€‚-Data-Oriented-Design-Optimized-for-how-computers-store-and-process-data-Separate-data-form-transformations-Like-data-stored-contiguously-Maximize-cache-hits-Add-x2F-Remove-components-to-add-x2F-remove-functionally"><a href="#Blittable-Types-åœ¨æ‰˜ç®¡ä»£ç å’Œéæ‰˜ç®¡ä»£ç çš„å†…å­˜ä¸­å…·æœ‰ç›¸åŒçš„è¡¨ç°å½¢å¼ã€‚Job-çš„è°ƒåº¦æ–¹å¼æœ‰ä¸‰ç§ï¼šRun-gt-ä¸»çº¿ç¨‹ç«‹å³é¡ºåºæ‰§è¡ŒSchedule-gt-å•ä¸ªå·¥ä½œçº¿ç¨‹æˆ–ä¸»çº¿ç¨‹ï¼Œæ¯ä¸ª-Job-é¡ºåºæ‰§è¡ŒScheduleParallel-gt-åœ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªæ•°æ®æ—¶å¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚-è®¾è®¡ä¸ç»„ç»‡æ•°æ®æ˜¯æ¶‰åŠ-Archetype-ä¸-component-dataä¿®æ”¹ä¸æ›´æ–°æ•°æ®æ˜¯æ§åˆ¶æ•°æ®è¯»å†™ï¼Œè®¿é—®æƒé™ä¸è®¿é—®é¢‘ç‡ã€‚-Data-Oriented-Design-Optimized-for-how-computers-store-and-process-data-Separate-data-form-transformations-Like-data-stored-contiguously-Maximize-cache-hits-Add-x2F-Remove-components-to-add-x2F-remove-functionally" class="headerlink" title="Blittable Types: åœ¨æ‰˜ç®¡ä»£ç å’Œéæ‰˜ç®¡ä»£ç çš„å†…å­˜ä¸­å…·æœ‰ç›¸åŒçš„è¡¨ç°å½¢å¼ã€‚Job çš„è°ƒåº¦æ–¹å¼æœ‰ä¸‰ç§ï¼šRun->ä¸»çº¿ç¨‹ç«‹å³é¡ºåºæ‰§è¡ŒSchedule->å•ä¸ªå·¥ä½œçº¿ç¨‹æˆ–ä¸»çº¿ç¨‹ï¼Œæ¯ä¸ª Job é¡ºåºæ‰§è¡ŒScheduleParallel->åœ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªæ•°æ®æ—¶å¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚ è®¾è®¡ä¸ç»„ç»‡æ•°æ®æ˜¯æ¶‰åŠ Archetype ä¸ component dataä¿®æ”¹ä¸æ›´æ–°æ•°æ®æ˜¯æ§åˆ¶æ•°æ®è¯»å†™ï¼Œè®¿é—®æƒé™ä¸è®¿é—®é¢‘ç‡ã€‚### Data-Oriented Design- Optimized for how computers store and process data.- Separate data form transformations- Like data stored contiguously- Maximize cache hits- Add/Remove components to add/remove functionally."></a>Blittable Types: åœ¨æ‰˜ç®¡ä»£ç å’Œéæ‰˜ç®¡ä»£ç çš„å†…å­˜ä¸­å…·æœ‰ç›¸åŒçš„è¡¨ç°å½¢å¼ã€‚<br><img src="https://article.biliimg.com/bfs/article/f50944b66f8d3b3614acf4551911a6b91bd2b1a3.png"><br><img src="https://article.biliimg.com/bfs/article/248312d27336e71b776a8e8a5ec74d93103212b2.png"><br><img src="https://article.biliimg.com/bfs/article/be530dc029416af978f929cd9f454885f5fbfa3a.png"><br>Job çš„è°ƒåº¦æ–¹å¼æœ‰ä¸‰ç§ï¼š<br>Run-&gt;ä¸»çº¿ç¨‹ç«‹å³é¡ºåºæ‰§è¡Œ<br>Schedule-&gt;å•ä¸ªå·¥ä½œçº¿ç¨‹æˆ–ä¸»çº¿ç¨‹ï¼Œæ¯ä¸ª Job é¡ºåºæ‰§è¡Œ<br>ScheduleParallel-&gt;åœ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªæ•°æ®æ—¶å¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚<br><img src="https://article.biliimg.com/bfs/article/f6c68dd22600427010d9e542be0499ed3add4a87.png"><br><img src="https://article.biliimg.com/bfs/article/23761b2b9668bdb2971d3e201288c504811557b7.png"><br><img src="https://article.biliimg.com/bfs/article/6308d4683d1aa590b95c0d0ca0af803bff23ae49.png"><br> <img src="https://article.biliimg.com/bfs/article/446b45c8110d382cf7e9518b835bf2b85d649d7b.png"><br><img src="https://article.biliimg.com/bfs/article/d5b26ca1b6368e68933fbd5061a0bbf93813f4c1.png"><br>è®¾è®¡ä¸ç»„ç»‡æ•°æ®æ˜¯æ¶‰åŠ Archetype ä¸ component data<br>ä¿®æ”¹ä¸æ›´æ–°æ•°æ®æ˜¯æ§åˆ¶æ•°æ®è¯»å†™ï¼Œè®¿é—®æƒé™ä¸è®¿é—®é¢‘ç‡ã€‚<br><img src="https://article.biliimg.com/bfs/article/01c32fc23116e9623d12ff76d3972ef68d58ef53.png"><br><img src="https://article.biliimg.com/bfs/article/47c5bc19841f90aef8c7d36a71d8646dd91103aa.png"><br><img src="https://article.biliimg.com/bfs/article/d822361e69d3643a156873051b2d03a39d8b4c9e.png"><br><img src="https://article.biliimg.com/bfs/article/7aaa75b6bf6a53dcff62f54a18815d2991980741.png"><br><img src="https://article.biliimg.com/bfs/article/1dc822a74eb11558eb54466b6c2b5818b4355d48.png"><br><img src="https://article.biliimg.com/bfs/article/4573cea0266516bdf3af6ff24c56293be28e0d2d.png"><br><img src="https://article.biliimg.com/bfs/article/984be8b0bb3e1c874349c379bb58f2aa630f16d9.png"><br>### Data-Oriented Design<br>- Optimized for how computers store and process data.<br>- <em>Separate data form transformations</em><br>- Like data stored contiguously<br>- Maximize cache hits<br>- Add/Remove components to add/remove functionally.</h2><h3 id="ECS-Entities"><a href="#ECS-Entities" class="headerlink" title="ECS -Entities"></a>ECS -Entities</h3><ul>
<li>Just an Index and Version number for ID</li>
<li><em>Group data</em> compontents associated with one â€œThingâ€</li>
<li>Each unique combination of componetns is called an <em>Archetype</em>.</li>
</ul>
<h3 id="Compontent"><a href="#Compontent" class="headerlink" title="Compontent"></a>Compontent</h3><ul>
<li><em>Actual data</em> associated with an Entity.</li>
<li>Static or dynamatic data</li>
<li>Stored in chunks (16kb blocks of memory allocated in RAM)</li>
<li>Only data of the same archetype is stored in the trunk.</li>
</ul>
<h3 id="System"><a href="#System" class="headerlink" title="System"></a>System</h3><ul>
<li>Data <em>transformation</em></li>
<li>Ran acorss groups of entities.</li>
<li>Get groups of entities through <em>Eneity Query</em>.</li>
<li>Consider update order and job dependencies.</li>
</ul>
<h3 id="System-Player-Loop"><a href="#System-Player-Loop" class="headerlink" title="System (Player Loop)"></a>System (Player Loop)</h3><ul>
<li>Each frame has the following sections:</li>
<li>Initialization Group</li>
<li>Simulation Group</li>
<li>Presentation Group</li>
</ul>
<h3 id="Job-System"><a href="#Job-System" class="headerlink" title="Job System"></a>Job System</h3><ul>
<li>Multithreading in Unity</li>
<li>Jobs are scheduled on the main thread.</li>
<li>Worker threads execute jobs from the job queue when available.</li>
<li>Some built in dependency mangement.</li>
</ul>
<h3 id="Burst-Compiler"><a href="#Burst-Compiler" class="headerlink" title="Burst Compiler"></a>Burst Compiler</h3><ul>
<li>Massive effciency gains through compile time optimizations.</li>
<li>SIMD-Single Instruction, Multiple Data.</li>
<li>Only works with blittable, unmanaged data types.<br>Other Packages</li>
<li>Unity. Mathematics-Burst optimized math structures and opeartions.</li>
<li>Unity. Collections-Burst compatible collections in native memory.</li>
<li>Unity. Graphics-Render entities in your game.<br>ä»»ä½•æ¸¸æˆå¯¹è±¡æ”¾å…¥ SubScene åéƒ½ä¼šè¢«è½¬åŒ–ä¸ºå®ä½“ã€‚</li>
</ul>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/posts/4.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          ğŸğŸçš„æ—…è¡Œæ—¥è®°
        
      </div>
    </a>
  
  
    <a href="/posts/8.html" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Splines</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2023 Guo Yangyang
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>