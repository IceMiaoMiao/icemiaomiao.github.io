<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="referrer" content="no-referrer">

  
  <title>Splines | Yang&#39;s Blog</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Start with Bezier CurvesLet’s draw a smooth spline today!">
<meta property="og:type" content="article">
<meta property="og:title" content="Splines">
<meta property="og:url" content="https://icemiaomiao.github.io/posts/8.html">
<meta property="og:site_name" content="Yang&#39;s Blog">
<meta property="og:description" content="Start with Bezier CurvesLet’s draw a smooth spline today!">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/cb4d00f330e6ebb78c613ac84c743fcdfd07e5f9.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/d0cf62a1b31a681e4e905a2d00330e39a2a68f44.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/6592f02d22dc3e300cbba6362468275d77bcac40.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/b4887ce7b1cc987a6b1b69d14421088336963501.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/3cd1441333f36b9c883890afef9b719dfde9b70b.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/aa697e5592f78fa0af6cd6d43311ad7ea5d26d79.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/8cbcd964beb721fb77586a6b9bec3e897c6d6046.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/d5f3db12b3bcca3dd082fcaebeb08f2cdd96f4da.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/b68198d447d27a711033b7b7b185254ecf4d12ba.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/37db7748a4889d32ba06365499c5bcdb58dde6a7.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/49cd64d495f69c9bb84d70c1d3dc8cf303033276.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/9dddc29bc2928710923cf1daa6b2af5e69104ae4.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/8555f6a08e633057af0a4eebe0f1c3135809e738.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/ac03557b6c5fdb6379c67938ced3fb36bdddab0c.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/94d75362efed15c93e684f98ec8ada511a64668e.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/8b43dbf132f8af0b372c51fa904fa265851464e9.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/40def4bb7c5c1bd877826e9d6ecc62e8fe1ffb49.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/06c48e7ded25c7dbe5d5c5f832e6626eed1e5d2d.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/da2d6db79871dcaacff9f714ec45212b1b8b6169.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/b56a5762d8d03ff9d601e7aa28398af43f7fd49a.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/fca5e7052e4a0b80b2ee552029140a192a63f850.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/464eecb0c613a9b8b6e280d9835bb489b4813397.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/734668476be592278c41c0c521fca5995b729254.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/bfbe6da2185d32e6e9e269efc46f6f53fc393552.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/08527347af9504cb3b646422d790e3ea59b8b950.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/9140c4b35031475adc030fc02ded55a92a919c8e.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/983a707deff1f0554c8096f49854323bb6c5fe31.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/0a84abdd37740e2a3a3fbd834ccc32877d73f1f6.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/b55a08d8e178576a159e1148c14a4b5cbd482571.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/25fde2d8f27afcea8afa9673c87ccd4a57c76170.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/4260a6c41f96a78211696f153b197609c36fa9db.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/a2b7a61841a97a7f954b0f5c363dc739a2be4cf8.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/f2c6e336ae634b15bdcda2d80978496e605a8b8b.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/4b575a8f0091740a385f353e45a3581104befc24.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/e8de894850377a900a813800ed60121674c9ce78.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/638587be17d7695c9d06217da4d6bc92d7b7fd78.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/8972f1826c297e9995c0ffb9971a31e3c71f2aea.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/855aa21ba2b6328620b8499744c4a007eb445f01.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/034f3642c5f7fa4a1829d84ddead40d2051d8d2e.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/ed352298e2ca3f62c4f9b25b445e411a43be46e3.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/ce30916ad4ccf6bf19b91f183e2c68cc4ff3451d.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/58cbc1ca171295cda82945d56c4878d98ee85763.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/8a536eeb43253758d6fb4131eaeb67ff6a3c1500.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/9e216248418f8b1dd52d0552d11b4d56373ad387.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/15f6e833ddcdd505bccc578fefc61dcdc3b739b7.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/a19ed6514c7fff2b7f2e8903fef6467976d5c85e.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/e5acdac64f7831dc3237df711bd563bbb448dbe9.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/454926d191efa18d00b9355d18b8c3f9891b345a.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/d95e843496540044315abe7751797c6b63985173.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/aa7c15244f13937f0b1180710cb66896df20c991.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/9d5bae529a781e123c331d5fc54e0335ac095b60.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/a6332e6e6336a48deddb7f3679d03e3c99e52720.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/6b778cb24d0a7c24fe7d43dea072e72458a33344.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/fc2935c6533abfd22c466bf5cb82994b127b0ac7.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/2652f45f2ab00d3bc83d3ad7df28a5a68bdc19b1.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/7d7f49b00454ba393e121c0a448d4ac8bcfce39e.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/5c8a58b47144b1e8248753dac835bae8f4545e57.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/9c1ffa41dfe1d03b77ff5df378d39edd1a4af95b.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/a03957b88225556b5c82dd2df0c1facd01605063.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/a3e1393be58b6a8b6dbd537ec141e95d54005fdb.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/5dd681b87b04d6d7027c23322f62f42e5d983bd7.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/fa26ce4cbd56097ad2c9e78bc5dfc7bce474cfcc.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/e132be5de9eb9dd0f99672c1aaa8478800f6ea2e.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/87f055020641762787cc47c104849457d7d9c08d.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/fa5f3141bdb75f1bebcba52e44e8fad6b7b8f60d.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/3d77625454cac79cee31b1d1c5a76aa2b7bb405a.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/7f6fc8b770ba5c817557eb2be1003b967db0a3dc.png">
<meta property="og:image" content="https://i0.hdslb.com/bfs/album/23814bca82c80fbb2dc7fdc1a56e6280767fdfba.png">
<meta property="article:published_time" content="2024-01-05T08:54:00.000Z">
<meta property="article:modified_time" content="2023-01-15T10:16:01.118Z">
<meta property="article:author" content="Guo Yangyang">
<meta property="article:tag" content="Explore">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i0.hdslb.com/bfs/album/cb4d00f330e6ebb78c613ac84c743fcdfd07e5f9.png">
  
    <link rel="alternative" href="/atom.xml" title="Yang&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">Guo Yangyang</a></h1>
		</hgroup>

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Lists</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/IceMiaoMiao?tab=repositories" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="https://space.bilibili.com/487294924" title="weibo">weibo</a>
					        
						</div>
						<!-- music -->
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Blender/" style="font-size: 13.33px;">Blender</a> <a href="/tags/Explore/" style="font-size: 13.33px;">Explore</a> <a href="/tags/Grow/" style="font-size: 10px;">Grow</a> <a href="/tags/Introduction/" style="font-size: 10px;">Introduction</a> <a href="/tags/MetaHuman/" style="font-size: 10px;">MetaHuman</a> <a href="/tags/Skills/" style="font-size: 16.67px;">Skills</a> <a href="/tags/Test/" style="font-size: 10px;">Test</a> <a href="/tags/Travel/" style="font-size: 10px;">Travel</a> <a href="/tags/Unity/" style="font-size: 20px;">Unity</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">I&#39;m a developer in Beijing, China. You could contact me by email:guo23188@qq.com or iceingmiao@gmail.com</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Lists</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/IceMiaoMiao?tab=repositories" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="https://space.bilibili.com/487294924" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-科研/Splines" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/posts/8.html" class="article-date">
  	<time datetime="2024-01-05T08:54:00.000Z" itemprop="datePublished">2024-01-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Splines
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Explore/" rel="tag">Explore</a></li></ul>
	</div>

        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Start-with-Bezier-Curves"><a href="#Start-with-Bezier-Curves" class="headerlink" title="Start with Bezier Curves"></a>Start with Bezier Curves</h1><p>Let’s draw a smooth spline today!</p>
<span id="more"></span>
<p>The simplest ways to draw a line between is to draw a straight line between them.<br><img src="https://i0.hdslb.com/bfs/album/cb4d00f330e6ebb78c613ac84c743fcdfd07e5f9.png"><br>We input a percentage to this function that detmine har far between the two points.<br><img src="https://i0.hdslb.com/bfs/album/d0cf62a1b31a681e4e905a2d00330e39a2a68f44.png"><br>This is the most common type of blending, we call it #lerp<br>$$P (t) = (1-t) P_0 + t P_1\tag{Lerp}$$<br>We add one point, we ues the extra same lerp function, to blend these points on each line, and use the third line to interpolated points to get one curve.<br><img src="https://i0.hdslb.com/bfs/album/6592f02d22dc3e300cbba6362468275d77bcac40.png"><br>This is the magic of Bezier curves! Using Only linear interpolation to get a smooth curve.<br>This one is particular, is Quadratic Bezier Curve<br><img src="https://i0.hdslb.com/bfs/album/b4887ce7b1cc987a6b1b69d14421088336963501.png"><br>The same way, we add another point, and we get the  cubic Bezier Curve. Cubic Bezier Curve is the most common curve so far. Almost every font and vector graphics tool, is using the cubic bezier curve.<br><img src="https://i0.hdslb.com/bfs/album/3cd1441333f36b9c883890afef9b719dfde9b70b.png"><br>This method of recursively lerping between is called DeCasteljau. You just lerp until you run out of things to lerp.</p>
<p><img src="https://i0.hdslb.com/bfs/album/aa697e5592f78fa0af6cd6d43311ad7ea5d26d79.png"><br>These polynormaials act as influences of each control point. </p>
<p><img src="https://i0.hdslb.com/bfs/album/8cbcd964beb721fb77586a6b9bec3e897c6d6046.png"><br>Influence change with curve goes. This is a special type of weighted sum, called a convex conmination.<br><img src="https://i0.hdslb.com/bfs/album/d5f3db12b3bcca3dd082fcaebeb08f2cdd96f4da.png"><br>We can also think that it is the combination of vectors.</p>
<p><img src="https://i0.hdslb.com/bfs/album/b68198d447d27a711033b7b7b185254ecf4d12ba.png"><br>The same result, they have different geometric interpretations and performance characteristics.<br><img src="https://i0.hdslb.com/bfs/album/37db7748a4889d32ba06365499c5bcdb58dde6a7.png"><br>But in this condition, we have no local control. Every movement of every point affects the entire curve.<br>Besides, it doesn’t pass through most points, so it is difficult to make a specific paths of the shape you want.<br>Finally, the number of control points is numberically unstable or very expensive to calculate.<br><img src="https://i0.hdslb.com/bfs/album/49cd64d495f69c9bb84d70c1d3dc8cf303033276.png"><br>So we need to find the answer that we can control shapes without affecting every single other point in the curve.<br><img src="https://i0.hdslb.com/bfs/album/9dddc29bc2928710923cf1daa6b2af5e69104ae4.png"><br>We consider cubic bezier curve again, we combine some curves together, sharing the point.<br>Traversing this path requires some extra work. Because input t-value was traditionally from 0 to 1, acting as a kind of percentage along the curve.<br><img src="https://i0.hdslb.com/bfs/album/8555f6a08e633057af0a4eebe0f1c3135809e738.png"><br>In this condition, we can easily map each curve to each whole number.<br><img src="https://i0.hdslb.com/bfs/album/ac03557b6c5fdb6379c67938ced3fb36bdddab0c.png"><br>The input u-value, is in a one-dimensional space called parameter space. The points we define are called control points.</p>
<p><img src="https://i0.hdslb.com/bfs/album/94d75362efed15c93e684f98ec8ada511a64668e.png"><br>In this condition, where each curve is effectively using its own math function. These curves meet end to end at points called joins or knots.<br>Each curve is then assigned an interval in the input parameter space, that helps us associate any given input u value to a curve. The values here are called knot values.</p>
<p><img src="https://i0.hdslb.com/bfs/album/8b43dbf132f8af0b372c51fa904fa265851464e9.png"><br>We map the basic functions into our parameter space,<br><img src="https://i0.hdslb.com/bfs/album/40def4bb7c5c1bd877826e9d6ecc62e8fe1ffb49.png"><br>It is clear that with cubic bezier spline, we’ve regained local control. We just effecitively sampling one cubic bezier, so it doesn’t get any more expensive.<br>It’s now interpolating every third point, so it is easier to create whatever shape we want.<br><img src="https://i0.hdslb.com/bfs/album/06c48e7ded25c7dbe5d5c5f832e6626eed1e5d2d.png"><br>It’s the reason why cubic bezier curve are so popular, it really gives you a huge amount of control.<br><img src="https://i0.hdslb.com/bfs/album/da2d6db79871dcaacff9f714ec45212b1b8b6169.png"><br>There are three common configurations about hte curve joins, also called tangent points.<br>One is split tangents, also known as broken tangents, we can use to make sharp conners.<br>The second one is where you align three points around the curve join, which ensure the two curves are tangent with each other at that join.<br>Finnally, we can also mirror the tangent points around the join, making them not only aligned, but also the same distance from their shared control point.<br><img src="https://i0.hdslb.com/bfs/album/b56a5762d8d03ff9d601e7aa28398af43f7fd49a.png"><br>With all these tools in mind, we can now easily create paths, and animate objects on it.</p>
<h2 id="Continuity"><a href="#Continuity" class="headerlink" title="Continuity"></a>Continuity</h2><p>Continuity is a measure of how “connected” the curve are.<br>Continuity means is that posision changes continuously, there’s no sudden jump, or discontinuity in this path.<br><img src="https://i0.hdslb.com/bfs/album/fca5e7052e4a0b80b2ee552029140a192a63f850.png"><br>If we want to analyze change, it’s worth looking into derivatives.<br><img src="https://i0.hdslb.com/bfs/album/464eecb0c613a9b8b6e280d9835bb489b4813397.png"><br>The velocity graph is discontinuous, it’s disconnected at every join.<br><img src="https://i0.hdslb.com/bfs/album/734668476be592278c41c0c521fca5995b729254.png"><br>We change all join to mirro, the velcoity curve will be continuous.<br><img src="https://i0.hdslb.com/bfs/album/bfbe6da2185d32e6e9e269efc46f6f53fc393552.png"><br>For C_2 continuity, we should control the acceleration in the join, in this condition, we successfully joined with C_2 continuity.<br><img src="https://i0.hdslb.com/bfs/album/08527347af9504cb3b646422d790e3ea59b8b950.png"><br>But we lose so much control of the curve, this can’t even be called a spline anymore.<br>To summarize, in a cubic bezier, when the tangent points are mirrored, we have C_1 continuity. When we have a broken join, the velcoity is no longer continuous, so it’s only continuous. When the curve is entirely disconnected, there’s no continuity at all.</p>
<p><img src="https://i0.hdslb.com/bfs/album/9140c4b35031475adc030fc02ded55a92a919c8e.png"></p>
<h2 id="Geometric-Continuity"><a href="#Geometric-Continuity" class="headerlink" title="Geometric Continuity"></a>Geometric Continuity</h2><p>The change of speed has literally no effect on our tangent and normal, this is called tangent continuity, we’re going to call this G_1.<br><img src="https://i0.hdslb.com/bfs/album/983a707deff1f0554c8096f49854323bb6c5fe31.png"><br>Regardless, so what is G_2?<br>To get the answer, we have enter the third dimension. If we look closely, we can see that something is wrong here.<br><img src="https://i0.hdslb.com/bfs/album/0a84abdd37740e2a3a3fbd834ccc32877d73f1f6.png"><br>It is clear that how discontinuous this is.<br><img src="https://i0.hdslb.com/bfs/album/b55a08d8e178576a159e1148c14a4b5cbd482571.png"><br>This doesn’t just apply to bezier curves, so what happened?<br>We might notice they suddenly start and stop rotating at the joins.<br><img src="https://i0.hdslb.com/bfs/album/25fde2d8f27afcea8afa9673c87ccd4a57c76170.png"><br>The angle of the tangent vector can illuminate this problem even more clearly. Notice how the angle is changing at a constant rate, they comes to a complete stop, and then it suddenly and immediately starts again.<br><img src="https://i0.hdslb.com/bfs/album/4260a6c41f96a78211696f153b197609c36fa9db.png"><br>In face, this is inherent to the nature of circles. We need a parameter-independent, or, speed-independent way to measure this, is where we need to talk about curvature.<br>Given a point on a curve, there’s a circle that describes the curvature at that point. This is called the osculating circle.<br><img src="https://i0.hdslb.com/bfs/album/a2b7a61841a97a7f954b0f5c363dc739a2be4cf8.png"><br>We can calculate the osculating by this way.<br><img src="https://i0.hdslb.com/bfs/album/f2c6e336ae634b15bdcda2d80978496e605a8b8b.png"><br>So what does the curvature look like across this spline?<br><img src="https://i0.hdslb.com/bfs/album/4b575a8f0091740a385f353e45a3581104befc24.png"><br>A very popular way to analyze curvature is using this handy tool, known as a curvarue comb.<br>Did it solve our problem with shiny reflections?<br>It look yes.<br>We also needed curvarure continuity to get rid of the seam in the reflection. It will even pass the harder, dot pattern test.<br><img src="https://i0.hdslb.com/bfs/album/e8de894850377a900a813800ed60121674c9ce78.png"><br>This is why $G^2$ continuity is very important in industrial design, as anything shiny will respond very strongle to the shape of the curves.<br>$G^1$ is when tangent are continuous, the curveture comb will also be aligned with itself across the normal of the curve.<br>$G^2$ is when curvarure is continuous. The curveture comb is now continuous in and of itself, as you can see, it connects surfaces that are $G^2$ or higher, sometimes called Class-A surfaces.<br>$G^3$ is when the rate fo change of curvature is continuous, the curvature comb will be in and of itself, tangent continuous.<br>Usually, we don’t go higher than $G^3$ as we get very diminshing returns in outcome and the math becomes significantly more unwiedly for each step.<br>So it is called Geometric Continuity<br>If you have two curves A and B, they are $G^n$ continuous, if a function g (t) exists, so that A (t) and B (g (t) ) are $C^n$ continuous.<br><img src="https://i0.hdslb.com/bfs/album/638587be17d7695c9d06217da4d6bc92d7b7fd78.png"><br>Let’s summarize, $C^0$ and $G^0$ are equivalent, and they are both positional continuity. It basically means your curves are simply connected in position.<br>$C^1$ is velcoity continuity, as in the first derivative is continuous, and the position is also continuous. In other words, it’s not enough for the velcoity to be continuous on its own, the previous derivatives have to be continuous as well.<br>$G^1$ is tangent continuity, which also requires that it has positional continuity. And, this same pattern continues.<br>$C^2$ is acceleration continuity, which also implies velcoity continuity, which also implies positional continuity.<br>$C^3$ is jolt continuity.<br>$G^2$ is curvature continuity, which again implies the previous ones.<br>Finally, we have $G^3$ which is incorrectly called “torsion” continuity, but it’s effectively refering to the rate of change of curvature.<br><img src="https://i0.hdslb.com/bfs/album/8972f1826c297e9995c0ffb9971a31e3c71f2aea.png"><br>Now just like all the parametric continuities include all previous levels, and geometric continuity include all their previous levels.<br>There’s another connection here. $C^1$ continuity is also necessarily $G^1$ continuous.<br>Effectively, G-continuity is less strict than C-continuity. So the C-continuities actually imply their corresponding geometric continuity as well.<br><img src="https://i0.hdslb.com/bfs/album/855aa21ba2b6328620b8499744c4a007eb445f01.png"><br>The rules only apply to regular curve. A regular curve is one where the velocity is never 0.<br>Such as this condition:<br><img src="https://i0.hdslb.com/bfs/album/034f3642c5f7fa4a1829d84ddead40d2051d8d2e.png"></p>
<p>Bezier is strange, are they not?<br>They don’t really refer to anything specific, expect the start and the end point.<br>What if we can come up with another type fo spline, that makes more physical sense?<br>What if instead of supplying 4 points, we set the start and end point, as usual, but then we also set the start and end velcoities.<br><img src="https://i0.hdslb.com/bfs/album/ed352298e2ca3f62c4f9b25b445e411a43be46e3.png"><br><img src="https://i0.hdslb.com/bfs/album/ce30916ad4ccf6bf19b91f183e2c68cc4ff3451d.png"><br>The cool thing about this one is that there’s no more arbitrary tangent points, it’s a spline that guarantees being at a specific place, with a cecrtain velcoity, at every control point.<br><img src="https://i0.hdslb.com/bfs/album/58cbc1ca171295cda82945d56c4878d98ee85763.png"><br>If we analyze the first derivative, the velocity, we can see it matches at every point along this spline, and it’s fully continuous.<br>This type of spline where you can supply explicit velocities at each point, actually has a name called Hermite Spline<br><img src="https://i0.hdslb.com/bfs/album/8a536eeb43253758d6fb4131eaeb67ff6a3c1500.png"><br>Anyway, as you can see, the hermite spline has explicit derivatives.<br>And since both sides of each curve join share the same velocity, it is also necessary $C^1$ continuous.<br>It’s also worth nothing, many hermite splines out there allow for two velocities per join.<br>It’s also interpolating, it’s passing through every point and every velocity.<br><img src="https://i0.hdslb.com/bfs/album/9e216248418f8b1dd52d0552d11b4d56373ad387.png"><br>It is easy to change hermite spline to Bezier spline. If we divide each velocity by three, and add its origin, we will get the bezier tangent point, flip that to the other side, and will now have the bezier control point for the other side.<br><img src="https://i0.hdslb.com/bfs/album/15f6e833ddcdd505bccc578fefc61dcdc3b739b7.png"></p>
<h2 id="Linear-Spline"><a href="#Linear-Spline" class="headerlink" title="Linear Spline"></a>Linear Spline</h2><p>Simply drawing straight lines between each point, it also has a few superpowers.<br><img src="https://i0.hdslb.com/bfs/album/a19ed6514c7fff2b7f2e8903fef6467976d5c85e.png"><br>First, it passing through every control point.<br>Second , it’s one of the few splines where arc-length parameterization is easy! (Arc length parameterization is when you want to interpolate a curve with a constant speed, which is actually very complicated for almost all splines out there)<br>Third, it’s very cheap to evaluate! Here’s the formula, it’s just a lerp.<br>But unfortunally, it’s just $C^0$ continuous.<br><img src="https://i0.hdslb.com/bfs/album/e5acdac64f7831dc3237df711bd563bbb448dbe9.png"><br>So we ask, is it possible to make a smoother spline?<br>This type fo spline with automatic tangents, a scale parameter and interpolating all points, is called a cardinal spline.<br><img src="https://i0.hdslb.com/bfs/album/454926d191efa18d00b9355d18b8c3f9891b345a.png"><br>Here’s what its matrix form looks like!<br><img src="https://i0.hdslb.com/bfs/album/d95e843496540044315abe7751797c6b63985173.png"><br>For this reason, it’s called the catmull-rom spline. It pass through every point (except the endpoints that kind of need special handing). As for continuity, the curvature comb tells us it is $G^1$ continuous. Let’s also look at the parametric continuity.<br><img src="https://i0.hdslb.com/bfs/album/aa7c15244f13937f0b1180710cb66896df20c991.png"><br>So the catmull-rom spline is $C^1$ continiuous, and there’s no need to specify tangents, it just works.<br><img src="https://i0.hdslb.com/bfs/album/9d5bae529a781e123c331d5fc54e0335ac095b60.png"></p>
<p><img src="https://i0.hdslb.com/bfs/album/a6332e6e6336a48deddb7f3679d03e3c99e52720.png"><br>But it is still $C^1$ continuous.<br><img src="https://i0.hdslb.com/bfs/album/6b778cb24d0a7c24fe7d43dea072e72458a33344.png"><br>So this soft little spline, while it’s not interpolating like at all, it is actually $C^2$ continuous. The reason is possible because we sacrificed the interpolating property in favor of acceleration continuity.<br><img src="https://i0.hdslb.com/bfs/album/fc2935c6533abfd22c466bf5cb82994b127b0ac7.png"><br>Of course, this spline have name, it’s called B-Spline, short for Basis Spline.<br>So what’s happening here, trick question aside, all of them can generate this specific curve. Beacuse all of these individual spline segments we’ve been talking about are actually very similar.<br><img src="https://i0.hdslb.com/bfs/album/2652f45f2ab00d3bc83d3ad7df28a5a68bdc19b1.png"><br>First, they are all uniform! They presume you want interpolate in a 0 to 1 range.<br>Second, they are all cubic polynomials. They all fit this formula.<br>So if they can generate the same curve, what’s even the point of different splines?<br>First, curves themselves are not splines! Thay are generated by splines. It’s all about how multiple curves, connect, and how smoothly they are able to do so. What splines really describe is a transformation of control points. Given some control points, you use a spline, to generate curves. If you swap out the spline, but keep the control points, you get different curves.<br><img src="https://i0.hdslb.com/bfs/album/7d7f49b00454ba393e121c0a448d4ac8bcfce39e.png"><br>I want you to think of splines as curve geneartors, that make certain promises about continuity in the curve joins, and how it treats the input control points.<br><img src="https://i0.hdslb.com/bfs/album/5c8a58b47144b1e8248753dac835bae8f4545e57.png"><br>So it’s not just about the end result, but the process you used to get there . You know as they say, “it’s about the juorney, not the destination”</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>The Bezier spline gives us a huge amount of control. It lets us create sharp corners, in other words, intentional tangent discontonuities which is very useful when defining shapes like fonts or vector graphics, such as this heart.<br><img src="https://i0.hdslb.com/bfs/album/9c1ffa41dfe1d03b77ff5df378d39edd1a4af95b.png"><br>Hermite splines let us define explicit derivatives, guaranteeing it will pass through its points with specific velocities. This is the most common spline for animation, and its the basis for animation curve editor in Unity.<br>For example, let’s sya we want to animate a jumping square. We can model its vertical position over time using a non-uniform 1D hermite spline.   Remember, non-uniform means the time interval between joins can vary, which is a little bit more complex than the uniform hermite we talked about today.<br><img src="https://i0.hdslb.com/bfs/album/a03957b88225556b5c82dd2df0c1facd01605063.png"><br>The catmull-Rom is the easiest way to just sommth a set of points. When you want it to automatically calculate the velocity, which is very useful for path smoothing, where passomg through exact points can be important<br><img src="https://i0.hdslb.com/bfs/album/a3e1393be58b6a8b6dbd537ec141e95d54005fdb.png"><br>The b-Spline guarantees $C^2$ continuity and so it’s the most popular spline in industrial design as it allows you to design curvature sensitive reflective surfaces without losing local control. In addition, some animations are also acceleration sensitive, such as the movement of a camera.</p>
<p><img src="https://i0.hdslb.com/bfs/album/5dd681b87b04d6d7027c23322f62f42e5d983bd7.png"><br>The linear spline is not very smooth, but in some cases it either doesn’t matter, or you have so many control points that it appears smooth in context. For example, if you need to draw a curve in a youtube video about splines, the easiest and most practical solution is to simply sample the curve densely enough so that it looks smooth when drawing it as a set of lines.<br><img src="https://i0.hdslb.com/bfs/album/fa26ce4cbd56097ad2c9e78bc5dfc7bce474cfcc.png"><br><img src="https://i0.hdslb.com/bfs/album/e132be5de9eb9dd0f99672c1aaa8478800f6ea2e.png"></p>
<p><img src="https://i0.hdslb.com/bfs/album/87f055020641762787cc47c104849457d7d9c08d.png"><br>And while the uniform B-Spline we looked at earlier was useful in its own right, if we allow changing the time or knot values, we get the non-uniform B-spline. All the continuity promises of the B-spline are still intact, this in turn afects the shape of the spline, too.<br><img src="https://i0.hdslb.com/bfs/album/fa5f3141bdb75f1bebcba52e44e8fad6b7b8f60d.png"><br>There’s an even more advanced variant, called the non-uniform rational B-spline, that lets you control the priority or weight of each control point, making the curves gravitaete toward or away from specific control points.<br><img src="https://i0.hdslb.com/bfs/album/3d77625454cac79cee31b1d1c5a76aa2b7bb405a.png"><br>We might even have heard of this one before, it’s more commonly known by its short name–NURBS.<br>So every color key in a gradient, is a control point of linear spline, in color space. Then if we want to use this as a gradient map on an image, instead of using time as our input, we use the brightness of its pixels to sample the gradient. The output is then in full color, based on our color spline.<br><img src="https://i0.hdslb.com/bfs/album/7f6fc8b770ba5c817557eb2be1003b967db0a3dc.png"><br>If we then move the control points, in other words, change the colors and time of our keys, the output changes along with it.<br><img src="https://i0.hdslb.com/bfs/album/23814bca82c80fbb2dc7fdc1a56e6280767fdfba.png"><br>As you can see, splines show up in many, perhaps, unexpected places. The whole field goes much deeper than what we had time for today.<br>I hope you fouind this little exploration of math noodles interesting!<br>Thank you all so much for watching here!</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/posts/10.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          DOTS
        
      </div>
    </a>
  
  
    <a href="/posts/3.html" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">生命是什么</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2023 Guo Yangyang
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>